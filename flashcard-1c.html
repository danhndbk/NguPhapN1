<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>N1 Grammar Flashcard (51-75)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
      touch-action: manipulation;
    }
    body {
      overscroll-behavior: none;
      touch-action: pan-y;
    }
    .flip-card { 
      perspective: 1000px;
      -webkit-perspective: 1000px;
    }
    .flip-card-inner { 
      transition: transform 0.6s;
      transform-style: preserve-3d;
      -webkit-transform-style: preserve-3d;
    }
    .flip-card.flipped .flip-card-inner { 
      transform: rotateY(180deg);
      -webkit-transform: rotateY(180deg);
    }
    .flip-card-front, .flip-card-back { 
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }
    .flip-card-back { 
      transform: rotateY(180deg);
      -webkit-transform: rotateY(180deg);
    }
    button {
      -webkit-appearance: none;
      appearance: none;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-900 to-purple-900 p-4">
  <div id="app"></div>

  <script>
    const data = [
      { id: 51, p: "æ™®é€šå½¢ + ãªã‚‰ + æ™®é€šå½¢ + ã§", m: "ÄÆ°a ra máº·t cÃ²n láº¡i cá»§a má»™t váº¥n Ä‘á»", e: "èƒŒãŒé«˜ã„ãªã‚‰é«˜ã„ã§ã€å¤§å¤‰ãªã“ã¨ã‚‚ã‚ã‚‹ã‚“ã ã‚ˆã€‚", t: "Cao cÅ©ng cÃ³ nhá»¯ng khÃ³ khÄƒn cá»§a cao." },
      { id: 52, p: "N1ãªã‚ŠN2ãªã‚Š/V1ã‚‹ãªã‚ŠV2ã‚‹ãªã‚Š", m: "Hoáº·c lÃ ...nÃ y rá»“i...nÃ y", e: "å¼•ã£è¶Šã—ã¦ã‚‚ã€é›»è©±ãªã‚Šãƒ¡ãƒ¼ãƒ«ãªã‚Šé€£çµ¡ã—ã¦ã­ã€‚", t: "Ká»ƒ cáº£ anh cÃ³ chuyá»ƒn nhÃ  thÃ¬ hÃ£y cá»© gá»i Ä‘iá»‡n hoáº·c lÃ  gá»­i mail liÃªn láº¡c vá»›i tÃ´i nhÃ©." },
      { id: 53, p: "Vã¾ã™/æ™®é€šå½¢ + ãªã‚Šã«/ãªã‚Šã®", m: "Háº¿t sá»©c cá»§a/Theo cÃ¡ch cá»§a", e: "ã‚¹ãƒãƒ¼ãƒ„ã‚’ã™ã‚‹ä¸Šã§ã€èƒŒãŒä½ãã¦ã‚‚ä½ã„ãªã‚Šã®ãƒ¡ãƒªãƒƒãƒˆã¯ã‚ã‚‹ã€‚", t: "Trong khi chÆ¡i thá»ƒ thao, ngay cáº£ tháº¥p cÅ©ng cÃ³ nhá»¯ng Æ°u Ä‘iá»ƒm cá»§a tháº¥p." },
      { id: 54, p: "N + ã«ã‚ã£ã¦", m: "á» trong hoÃ n cáº£nh/bá»‘i cáº£nh", e: "ITç¤¾ä¼šã«ã‚ã£ã¦ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å°å…¥ã™ã‚‹ä¼šç¤¾ãŒå¢—ãˆã¦ãã¦ã„ã‚‹ã€‚", t: "Trong xÃ£ há»™i cÃ´ng nghá»‡ thÃ´ng tin, nhá»¯ng cÃ´ng ty Ã¡p dá»¥ng phÆ°Æ¡ng thá»©c lÃ m viá»‡c trá»±c tuyáº¿n ngÃ y cÃ ng tÄƒng." },
      { id: 55, p: "N + ã«è‡³ã£ã¦ã¯", m: "CÃ²n Ä‘áº¿nâ€¦thÃ¬", e: "å½¼å¥³ã¯å¥½ãå«Œã„ãŒå¤šãã€é‡èœã«è‡³ã£ã¦ã¯ã»ã¨ã‚“ã©é£Ÿã¹ãªã„ã€‚", t: "CÃ´ áº¥y cÃ³ nhiá»u mÃ³n thÃ­ch vÃ  ghÃ©t nhÆ°ng Ä‘áº¿n rau thÃ¬ háº§u nhÆ° khÃ´ng Äƒn luÃ´n." },
      { id: 56, p: "N + ã«è‡³ã‚‹ã¾ã§", m: "Äáº¿n cáº£", e: "ã“ã®æ­Œã¯ãŠå¹´å¯„ã‚Šã‹ã‚‰å­ã©ã‚‚ã«è‡³ã‚‹ã¾ã§ã€ã‚ã‚‰ã‚†ã‚‹ä¸–ä»£ã«æ„›ã•ã‚Œã¦ã„ã‚‹ã€‚", t: "BÃ i hÃ¡t nÃ y Ä‘Æ°á»£c táº¥t cáº£ cÃ¡c tháº¿ há»‡ yÃªu thÃ­ch, tá»« nhá»¯ng ngÆ°á»i cao tuá»•i cho Ä‘áº¿n cáº£ bá»n tráº» con." },
      { id: 57, p: "N + ã«ã‹ã“ã¤ã‘", m: "Láº¥y cá»›â€¦Ä‘á»ƒ", e: "å‡ºå¼µã«ã‹ã“ã¤ã‘ã¦ã€çµŒè²»ã§éŠåœ’åœ°ã«è¡Œããªã‚“ã¦è¨±ã•ã‚Œãªã„ã€‚", t: "Láº¥y cá»› Ä‘i cÃ´ng tÃ¡c Ä‘á»ƒ Ä‘i khu vui chÆ¡i báº±ng tiá»n cÃ´ng ty thÃ¬ quáº£ tháº­t khÃ´ng thá»ƒ tha thá»© Ä‘Æ°á»£c." },
      { id: 58, p: "N/Vã‚‹ + ã«ã‹ãŸããªã„", m: "KhÃ´ng khÃ³ Ä‘á»ƒ", e: "å¤§å¥½ããªæ‹äººã«æŒ¯ã‚‰ã‚Œã¦ã—ã¾ã£ãŸå½¼ã®æ°—æŒã¡ã¯ã€æƒ³åƒã«ã‹ãŸããªã„ã€‚", t: "KhÃ´ng khÃ³ Ä‘á»ƒ cÃ³ thá»ƒ hÃ¬nh dung ra cáº£m xÃºc cá»§a anh áº¥y khi bá»‹ ngÆ°á»i anh áº¥y yÃªu nháº¥t chia tay." },
      { id: 59, p: "Vã‚‹/Vãªã„/Aã„/Aãª + ã«è¶Šã—ãŸã“ã¨ã¯ãªã„", m: "KhÃ´ng gÃ¬ tá»‘t hÆ¡n lÃ ", e: "å¤§åˆ‡ãªè³‡æ–™ãªã‚‰ã€æ¯æ—¥ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ãŠãã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã€‚", t: "Náº¿u lÃ  nhá»¯ng tÃ i liá»‡u quan trá»ng thÃ¬ tá»‘t nháº¥t nÃªn sao lÆ°u nÃ³ hÃ ng ngÃ y." },
      { id: 60, p: "N + ã«ã—ã¦", m: "(Má»‘c thá»i gian, Ä‘iá»u kiá»‡n)", e: "å…¥ç¤¾5å¹´ç›®ã«ã—ã¦ã€ã‚ˆã†ã‚„ãçµ¦æ–™ãŒå°‘ã—ä¸ŠãŒã£ãŸã€‚", t: "VÃ o cÃ´ng ty 5 nÄƒm trá»i mÃ  mÃ£i lÆ°Æ¡ng má»›i tÄƒng lÃªn má»™t chÃºt." },
      { id: 61, p: "N + ã«å³ï¼ˆå‰‡ï¼‰ã—ã¦", m: "Dá»±a theo, há»£p vá»›i", e: "ç¾å ´ã§ã¯ã€çŠ¶æ³ã«å³ã—ãŸã™ã°ã‚„ã„åˆ¤æ–­ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚", t: "á» nÆ¡i sáº£n xuáº¥t ráº¥t cáº§n nhá»¯ng phÃ¡n Ä‘oÃ¡n nhanh chÃ³ng dá»±a theo tÃ¬nh hÃ¬nh." },
      { id: 62, p: "Vã‚‹ + ã«ãŸãˆãªã„", m: "KhÃ´ngâ€¦ná»•i, khÃ´ng Ä‘Ã¡ng Ä‘á»ƒâ€¦", e: "æ±šã„è¨€è‘‰ã°ã‹ã‚Šä½¿ã£ã¦è©±ã™ã®ã§ã€å½¼ã®è©±ã¯èãã«ãŸãˆãªã„ã€‚", t: "VÃ¬ anh ta toÃ n dÃ¹ng nhá»¯ng tá»« ngá»¯ báº©n thá»‰u nÃªn cÃ¢u chuyá»‡n cá»§a anh ta khÃ´ng Ä‘Ã¡ng Ä‘á»ƒ nghe." },
      { id: 63, p: "N + ã«ãŸãˆãªã„", m: "Cáº£m tháº¥y vÃ´ cÃ¹ngâ€¦", e: "ã‚ã®æœ‰åãªã‚®ã‚¢å…ˆç”Ÿã«ãŠä¼šã„ã§ãã¦ã€æ„Ÿæ¿€ã«ãŸãˆã¾ã›ã‚“ã€‚", t: "ÄÆ°á»£c gáº·p tháº§y NghÄ©a ná»•i tiáº¿ng Ä‘Ã³ lÃ m tÃ´i cáº£m tháº¥y vÃ´ cÃ¹ng cáº£m Ä‘á»™ng." },
      { id: 64, p: "æ™®é€šå½¢ + ãªã‚‰ã¾ã ã—ã‚‚", m: "ThÃ¬ Ä‘Ã£ Ä‘Ã nh", e: "ç›´æ¥ã ã‘ãªã‚‰ã¾ã ã—ã‚‚ã€é™°ã§äººã®æ‚ªå£ã‚’è¨€ã†ãªã‚“ã¦è‰¯ããªã„ã‚ˆã€‚", t: "Náº¿u mÃ  nÃ³i xáº¥u trá»±c tiáº¿p thÃ¬ cÃ²n Ä‘á»¡, tháº¿ nhÆ°ng nÃ³i xáº¥u ngÆ°á»i khÃ¡c á»Ÿ sau lÆ°ng láº¡i lÃ  khÃ´ng tá»‘t Ä‘Ã¢u." },
      { id: 65, p: "Vã‚‹ + ãªã‚Š", m: "Vá»«a má»›i...thÃ¬ Ä‘Ã£...", e: "å½¼ã¯å¤œé…ãã¾ã§éŠã‚“ã§ã„ãŸã®ã§ã€å®¶ã¸å¸°ã‚‹ãªã‚Šæ¯è¦ªã«å±ã‚‰ã‚ŒãŸã€‚", t: "Bá»Ÿi anh ta Ä‘i chÆ¡i tá»›i táº­n Ä‘Ãªm muá»™n nÃªn khi vá»«a má»›i vá» Ä‘áº¿n nhÃ  Ä‘Ã£ bá»‹ máº¹ máº¯ng." },
      { id: 66, p: "N/Vã‚‹ + ã«ãŸã‚‹", m: "ÄÃ¡ng Ä‘á»ƒ, Ä‘á»§ Ä‘á»ƒ", e: "æˆæ¥­æ–™ã¯é«˜é¡ã ãŒã€ã“ã‚Œã¾ã§ã®å®Ÿç¸¾ã‚’è¦‹ã‚‹ã¨å—è¬›ã™ã‚‹ã«ãŸã‚‹ã‚‚ã®ã ã€‚", t: "Tiá»n há»c phÃ­ ráº¥t Ä‘áº¯t, nhÆ°ng náº¿u nhÃ¬n vÃ o káº¿t quáº£ thá»±c táº¿ tá»« trÆ°á»›c Ä‘áº¿n nay thÃ¬ quáº£ tháº­t lÃ  khÃ³a há»c Ä‘Ã¡ng Ä‘á»ƒ há»c." },
      { id: 67, p: "N/Vã‚‹ + ã«ã¨ã©ã¾ã‚‰ãš", m: "KhÃ´ng chá»‰ dá»«ng láº¡i á»Ÿ", e: "å½¼å¥³ã®æ­Œå”±åŠ›ã¯æ—¥æœ¬å›½å†…ã«ã¨ã©ã¾ã‚‰ãšã€ä¸–ç•Œä¸­ã§ç§°è³›ã•ã‚Œã¦ã„ã‚‹ã€‚", t: "Kháº£ nÄƒng ca hÃ¡t cá»§a cÃ´ áº¥y khÃ´ng chá»‰ dá»«ng láº¡i trong pháº¡m vi Nháº­t Báº£n mÃ  cÃ²n Ä‘Æ°á»£c tÃ¡n dÆ°Æ¡ng trÃªn toÃ n tháº¿ giá»›i." },
      { id: 68, p: "N/Vã‚‹ + ã«ã¯ã‚ãŸã‚‰ãªã„", m: "Cháº³ng cáº§n thiáº¿t pháº£i, khÃ´ng Ä‘áº¿n má»©c", e: "å½¼ã®ã‚„ã£ãŸã“ã¨ã¯ãŸã—ã‹ã«æ‚ªã„ã“ã¨ã ã‘ã©ã€çŠ¯ç½ªã«ã¯ã‚ãŸã‚‰ãªã„ãã†ã ã€‚", t: "Viá»‡c anh ta lÃ m Ä‘Ãºng lÃ  viá»‡c xáº¥u, nhÆ°ng cÃ³ váº» nÃ³ khÃ´ng Ä‘áº¿n má»©c lÃ  má»™t tá»™i Ã¡c." },
      { id: 69, p: "N/æ™®é€šå½¢ã® + ã«ã²ãã‹ãˆ", m: "TrÃ¡i ngÆ°á»£c vá»›i", e: "å‹¤å‹‰ãªå…„ã«ã²ãã‹ãˆã€å¼Ÿã¯æ¯æ—¥ã‚ãã‚“ã§ã°ã‹ã‚Šã§æœ¬å½“ã«ã ã‚‰ã—ãªã„ã€‚", t: "TrÃ¡i ngÆ°á»£c vá»›i ngÆ°á»i anh ráº¥t chÄƒm chá»‰ thÃ¬ ngÆ°á»i em suá»‘t ngÃ y chÆ¡i bá»i lÃªu lá»•ng, tháº­t lÃ  vÃ´ tÃ­ch sá»±." },
      { id: 70, p: "Vã‚‹/Vãªã„/N/Aã„/Aãª + ã«ã‚‚ã»ã©ãŒã‚ã‚‹", m: "CÅ©ng vá»«a pháº£i thÃ´i", e: "ã“ã®è³‡æ–™ã‚’ä¸€æ™‚é–“ã§å‡¦ç†ã—ã‚ãªã‚“ã¦ã€å†—è«‡ã«ã‚‚ã»ã©ãŒã‚ã‚‹ã‚ˆã€‚", t: "Báº¯t xá»­ lÃ½ cÃ¡i tÃ i liá»‡u nÃ y trong má»™t giá» thÃ¬ Ä‘Ãºng lÃ  cÃ³ Ä‘Ã¹a cÅ©ng vá»«a pháº£i thÃ´i chá»©." },
      { id: 71, p: "N + ã«ã‚‚ã¾ã—ã¦", m: "HÆ¡n cáº£", e: "ä»Šå¹´ã®ãŠç¥­ã‚Šã¯ã€ä¾‹å¹´ã«ã‚‚ã¾ã—ã¦ç››ã‚Šä¸ŠãŒã£ã¦ã„ã‚‹ã‚ˆã†ã ã€‚", t: "Lá»… há»™i nÄƒm nay cÃ³ váº» sÃ´i Ä‘á»™ng hÆ¡n má»i nÄƒm." },
      { id: 72, p: "N + ã®è‡³ã‚Š", m: "Cá»±c kÃ¬, vÃ´ cÃ¹ng", e: "ã“ã®ã‚ˆã†ãªæ „é¤Šã‚ã‚‹è³ã‚’ã„ãŸã ãã¾ã—ã¦ã€å…‰æ „ã®è‡³ã‚Šã§ã”ã–ã„ã¾ã™ã€‚", t: "TÃ´i cáº£m tháº¥y vÃ´ cÃ¹ng hÃ¢n háº¡nh khi nháº­n Ä‘Æ°á»£c giáº£i thÆ°á»Ÿng vinh dá»± nhÆ° tháº¿ nÃ y." },
	  { id: 73, p: "N + ã®ã”ã¨ã/ã”ã¨ãï¼ˆã«ï¼‰", m: "Cá»© nhÆ°", e: "å½¼ã¯ã©ã‚“ãªã¨ãã«ã‚‚ã€å½±ã®ã”ã¨ãç§ã«å¯„ã‚Šæ·»ã£ã¦ãã‚ŒãŸã€‚", t: "Anh áº¥y luÃ´n luÃ´n á»Ÿ bÃªn cáº¡nh tÃ´i cá»© nhÆ° hÃ¬nh vá»›i bÃ³ng." },
      { id: 74, p: "æ™®é€šå½¢ + ã®ã‚’ã„ã„ã“ã¨ã«", m: "Lá»£i dá»¥ng chuyá»‡n...Ä‘á»ƒ", e: "å½¼ãŒæ€’ã‚‰ãªã„ã®ã‚’ã„ã„ã“ã¨ã«å½¼å¥³ã¯èª¿å­ã«ä¹—ã£ã¦æµ®æ°—ã¾ã§ã—ãŸã€‚", t: "CÃ´ áº¥y lá»£i dá»¥ng viá»‡c anh áº¥y khÃ´ng giáº­n Ä‘á»ƒ tinh vi lÃ m theo Ã½ mÃ¬nh, tháº­m chÃ­ lÃ  cáº£ ngoáº¡i tÃ¬nh." },
      { id: 75, p: "N + ã¯ãŠã‚ã‹", m: "Äá»«ng nÃ³i...mÃ  ngay cáº£", e: "è‡ªå®…ä»˜è¿‘ã«ã¯ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã¯ãŠã‚ã‹ã€ã‚³ãƒ³ãƒ“ãƒ‹ã™ã‚‰ãªã„ä¸ä¾¿ãªç’°å¢ƒã ã€‚", t: "Xung quanh nhÃ  tÃ´i lÃ  má»™t khu ráº¥t báº¥t tiá»‡n, Ä‘á»«ng nÃ³i lÃ  siÃªu thá»‹ mÃ  cáº£ cá»­a hÃ ng tiá»‡n lá»£i cÅ©ng khÃ´ng cÃ³." },
    ];

    let mastered = [];
    let idx = 0;
    let tab = 'all';
    let flipped = false;
    let isShuffled = false;
    let shuffledData = [];

    function loadData() {
      try {
        mastered = JSON.parse(localStorage.getItem('n1_mastered_1c') || '[]');
      } catch (e) {
        mastered = [];
      }
    }

    function saveData() {
      try {
        localStorage.setItem('n1_mastered_1c', JSON.stringify(mastered));
      } catch (e) {
        console.error('KhÃ´ng thá»ƒ lÆ°u dá»¯ liá»‡u');
      }
    }

    // HÃ m xÃ¡o trá»™n máº£ng
    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    function toggleShuffle() {
      isShuffled = !isShuffled;
      if (isShuffled) {
        shuffledData = shuffleArray(data);
      }
      idx = 0;
      flipped = false;
      render();
    }

    function getCards() {
      const sourceData = isShuffled ? shuffledData : data;
      if (tab === 'all') return sourceData;
      if (tab === 'learning') return sourceData.filter(c => !mastered.includes(c.id));
      return sourceData.filter(c => mastered.includes(c.id));
    }

    function render() {
      const cards = getCards();
      const card = cards[idx] || null;
      const app = document.getElementById('app');
      
      if (!card) {
        app.innerHTML = `
          <div class="max-w-md mx-auto">
            <div class="flex items-center justify-between mb-4">
              <a href="Menu.html" class="text-white hover:text-yellow-300 transition text-lg">â† Menu</a>
              <h1 class="text-white text-xl font-bold">N1 (51-75)</h1>
              <div class="w-16"></div>
            </div>
            <div class="text-white text-center mt-20 text-lg">KhÃ´ng cÃ³ tháº» nÃ o trong má»¥c nÃ y</div>
            <div class="flex justify-center mt-6">
                 <button id="btn-all-empty" class="px-4 py-2 rounded-lg text-sm font-medium bg-white/20 text-white hover:bg-white/30 transition">
                   Xem táº¥t cáº£ tháº»
                 </button>
            </div>
          </div>
        `;
        document.getElementById('btn-all-empty')?.addEventListener('click', () => setTab('all'));
        return;
      }
      
      app.innerHTML = `
        <div class="max-w-md mx-auto pb-4">
          <div class="flex items-center justify-between mb-4">
            <a href="Menu.html" class="text-white hover:text-yellow-300 transition text-lg">â† Menu</a>
            <h1 class="text-white text-xl font-bold">N1 (51-75)</h1>
            <div class="w-16"></div>
          </div>
          
          <div class="flex justify-center gap-2 mb-4 flex-wrap">
            <button id="btn-all" class="px-4 py-2 rounded-lg text-sm font-medium transition ${tab === 'all' ? 'bg-yellow-400 text-gray-900' : 'bg-white/20 text-white'}">
              Táº¥t cáº£ (${data.length})
            </button>
            <button id="btn-learning" class="px-4 py-2 rounded-lg text-sm font-medium transition ${tab === 'learning' ? 'bg-yellow-400 text-gray-900' : 'bg-white/20 text-white'}">
              ChÆ°a thuá»™c (${data.length - mastered.length})
            </button>
            <button id="btn-mastered" class="px-4 py-2 rounded-lg text-sm font-medium transition ${tab === 'mastered' ? 'bg-yellow-400 text-gray-900' : 'bg-white/20 text-white'}">
              ÄÃ£ thuá»™c (${mastered.length})
            </button>
            <button id="btn-shuffle" class="px-4 py-2 rounded-lg text-sm font-medium transition ${isShuffled ? 'bg-green-400 text-gray-900' : 'bg-white/20 text-white'}">
              ${isShuffled ? 'ğŸ”€ Äang trá»™n' : 'ğŸ”€ Trá»™n Tháº»'}
            </button>
          </div>

          <div class="text-white text-center mb-3 text-lg">
             ${idx + 1} / ${cards.length} 
             ${isShuffled ? '<span class="text-xs ml-1 opacity-75">(Ngáº«u nhiÃªn)</span>' : ''}
          </div>
          
          <div id="flashcard" class="flip-card h-80 cursor-pointer ${flipped ? 'flipped' : ''}">
            <div class="flip-card-inner relative w-full h-full">
              <div class="flip-card-front absolute inset-0 bg-white rounded-2xl shadow-2xl flex flex-col items-center justify-center p-6">
                <div class="text-sm text-gray-400 mb-2">#${card.id}</div>
                <div class="text-2xl font-bold text-indigo-700 text-center leading-relaxed px-2">${card.p}</div>
                <div class="text-gray-400 mt-6 text-sm">ğŸ‘† Nháº¥n Ä‘á»ƒ láº­t tháº»</div>
              </div>
              <div class="flip-card-back absolute inset-0 bg-gradient-to-br from-green-100 to-emerald-100 rounded-2xl shadow-2xl p-4 overflow-auto">
                <div class="text-indigo-700 font-bold mb-2">ğŸ“– NghÄ©a:</div>
                <div class="text-gray-800 mb-3 text-base">${card.m}</div>
                <div class="text-indigo-700 font-bold mb-2">ğŸ“ VÃ­ dá»¥:</div>
                <div class="text-gray-800 mb-2 text-sm">${card.e}</div>
                <div class="text-green-700 italic text-sm">â†’ ${card.t}</div>
              </div>
            </div>
          </div>

          <div class="flex justify-center items-center gap-3 mt-6">
            <button id="btn-prev" class="w-14 h-14 bg-white/20 hover:bg-white/40 active:bg-white/50 rounded-full text-white text-2xl font-bold transition flex items-center justify-center">â†</button>
            <button id="btn-master" class="px-5 py-3 rounded-lg font-medium transition ${mastered.includes(card.id) ? 'bg-green-500 text-white active:bg-green-600' : 'bg-white text-gray-700 active:bg-gray-200'}">
              ${mastered.includes(card.id) ? 'âœ“ ÄÃ£ thuá»™c' : 'â˜ ÄÃ¡nh dáº¥u thuá»™c'}
            </button>
            <button id="btn-next" class="w-14 h-14 bg-white/20 hover:bg-white/40 active:bg-white/50 rounded-full text-white text-2xl font-bold transition flex items-center justify-center">â†’</button>
          </div>
        </div>
      `;

      document.getElementById('flashcard').addEventListener('click', flipCard);
      document.getElementById('btn-all').addEventListener('click', () => setTab('all'));
      document.getElementById('btn-learning').addEventListener('click', () => setTab('learning'));
      document.getElementById('btn-mastered').addEventListener('click', () => setTab('mastered'));
      document.getElementById('btn-shuffle').addEventListener('click', toggleShuffle); // ÄÃ£ thÃªm
      document.getElementById('btn-prev').addEventListener('click', prev);
      document.getElementById('btn-next').addEventListener('click', next);
      document.getElementById('btn-master').addEventListener('click', () => toggleMaster(card.id));
    }

    function setTab(t) { 
      tab = t; 
      idx = 0; 
      flipped = false; 
      render(); 
    }

    function flipCard(e) { 
      e.stopPropagation();
      flipped = !flipped; 
      render(); 
    }

    function next() { 
      const cards = getCards(); 
      flipped = false; 
      idx = (idx + 1) % cards.length; 
      render(); 
    }

    function prev() { 
      const cards = getCards(); 
      flipped = false; 
      idx = (idx - 1 + cards.length) % cards.length; 
      render(); 
    }

    function toggleMaster(id) {
      if (mastered.includes(id)) {
        mastered = mastered.filter(x => x !== id);
      } else {
        mastered.push(id);
      }
      saveData();
      render();
    }

    loadData();
    render();
  </script>
</body>
</html>